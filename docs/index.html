<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generic template for research or data analysis projects structured as R packages • template</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Generic template for research or data analysis projects structured as R packages">
<meta property="og:description" content="This package works as a template for new research
    projects, under the idea of having everything (data, R scripts, functions
    and manuscript/reports) contained in the same package (a research compendium)
    to facilitate collaboration and promote reproducibility.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">template</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Pakillo/template/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="template-package" class="section level2">
<h2 class="hasAnchor">
<a href="#template-package" class="anchor"></a><code>template</code> package</h2>
<div id="generic-template-for-research-or-data-analysis-projects-structured-as-r-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#generic-template-for-research-or-data-analysis-projects-structured-as-r-packages" class="anchor"></a>Generic template for research or data analysis projects structured as R packages</h3>

<p><a href="https://rmarkdown.rstudio.com">Rmarkdown</a> documents are great to keep reproducible scientific workflows: tightly integrating code, results and text. Yet, once we are dealing with more complicated data analysis and writing custom code and functions for a project, structuring it as an <a href="http://r-pkgs.had.co.nz/">R package</a> can bring many advantages (e.g. see <a href="http://rmflight.github.io/post/analyses-as-packages/">here</a> and <a href="https://github.com/ropensci/rrrpkg">here</a>, or read <a href="https://doi.org/10.7287/peerj.preprints.3192v2">Marwick et al.</a>, but see also <a href="https://milesmcbain.xyz/posts/an-okay-idea/">here</a> for counterpoints).</p>
<p>Hence this package works as a template for new research or data analysis projects, with the idea of having everything (data, R scripts, functions, and manuscript reporting results) self-contained in the same package (a “research compendium”) to facilitate collaboration and promote reproducibility.</p>
<p>A short presentation introducing this approach on ‘Structuring data analysis projects as R packages’ is available here: <a href="https://doi.org/10.6084/m9.figshare.12479984.v1" class="uri">https://doi.org/10.6084/m9.figshare.12479984.v1</a></p>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("remotes")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"Pakillo/template"</span><span class="op">)</span></pre></div>
</div>
<div id="usage" class="section level3">
<h3 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h3>
<p>First, load the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/Pakillo/template">"template"</a></span><span class="op">)</span></pre></div>
<p>Now run the function <code>new_project</code> to create a directory with all the scaffolding (slightly modified from R package structure). For example, to start a new project about tree growth, just use:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="reference/new_project.html">new_project</a></span><span class="op">(</span><span class="st">"treegrowth"</span><span class="op">)</span></pre></div>
<p>If you want to create a GitHub repository for the project at the same time, use instead:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="reference/new_project.html">new_project</a></span><span class="op">(</span><span class="st">"treegrowth"</span>, github <span class="op">=</span> <span class="cn">TRUE</span>, private.repo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></pre></div>
<p>You could choose either public or private repository. Note that to create a GitHub repo you will need to have configured your system as explained in <a href="https://usethis.r-lib.org/articles/articles/usethis-setup.html" class="uri">https://usethis.r-lib.org/articles/articles/usethis-setup.html</a>.</p>
<p>There are other options you could choose, like setting up <code>testthat</code> or continuous integration (Travis-CI, GitHub actions…). See <code><a href="reference/new_project.html">?new_project</a></code> for all options.</p>
</div>
<div id="developing-the-project" class="section level3">
<h3 class="hasAnchor">
<a href="#developing-the-project" class="anchor"></a>Developing the project</h3>
<ol>
<li><p>Now edit <code>README.Rmd</code> and the <code>DESCRIPTION</code> file with some basic information about your project: title, brief description, licence, package dependencies, etc.</p></li>
<li><p>Place original (raw) data in <code>data-raw</code> folder. Save all R scripts (or Rmarkdown documents) used for data preparation in the same folder.</p></li>
<li><p>Save final (clean, tidy) datasets in the <code>data</code> folder. You may write <a href="http://r-pkgs.had.co.nz/data.html#documenting-data">documentation</a> for these data.</p></li>
<li><p>R scripts or Rmarkdown documents used for data analyses may be placed at the <code>analyses</code> folder. The final manuscript/report may be placed at the <code>manuscript</code> folder. You could use one of the many Rmarkdown templates available out there (e.g. <a href="https://github.com/rstudio/rticles">rticles</a>, <a href="https://github.com/benmarwick/rrtools">rrtools</a> or <a href="https://github.com/Pakillo/rmdTemplates">rmdTemplates</a>).</p></li>
<li><p>If you write custom functions, place them in the <code>R</code> folder. <a href="http://r-pkgs.had.co.nz/man.html">Document</a> all your functions with <code>Roxygen</code>. <a href="http://r-pkgs.had.co.nz/tests.html">Write tests</a> for your functions and place them in the <code>tests</code> folder.</p></li>
<li><p>If your analysis uses functions from other CRAN packages, include these as dependencies (<code>Imports</code>) in the <code>DESCRIPTION</code> file (e.g. using <code><a href="https://usethis.r-lib.org/reference/use_package.html">usethis::use_package()</a></code> or <code><a href="https://rdrr.io/pkg/rrtools/man/add_dependencies_to_description.html">rrtools::add_dependencies_to_description()</a></code>. Also, use <code>Roxygen</code> <code>@import</code> or <code>@importFrom</code> in your function definitions, or alternatively <code>package::function()</code>, to import these dependencies in the namespace.</p></li>
<li><p>I recommend using an advanced tool like <a href="https://github.com/ropensci/drake"><code>drake</code></a> or <a href="https://github.com/wlandau/targets"><code>targets</code></a> to manage your project workflow. A simpler alternative might be writing a <code>makefile</code> or master script to organise and execute all parts of the analysis. A template makefile is included with this package (use <code>makefile = TRUE</code> when calling <code>new_project</code>).</p></li>
<li><p>Render Rmarkdown reports using <code><a href="https://rdrr.io/pkg/rmarkdown/man/render.html">rmarkdown::render</a></code>, and use Rstudio <code>Build</code> menu to create/update documentation, run tests, build package, etc.</p></li>
<li><p>Record the exact dependencies of your project. One option is simply running <code><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo()</a></code> but many more sophisticated alternatives exist. For example, <code><a href="https://rdrr.io/pkg/automagic/man/make_deps_file.html">automagic::make_deps_file()</a></code> or <code><a href="https://rstudio.github.io/renv//reference/snapshot.html">renv::snapshot()</a></code> will create a file recording the exact versions of all packages used, which can be used to recreate such environment in the future or in another computer. If you want to use Docker, you could use e.g. <code><a href="https://o2r.info/containerit/reference/dockerfile.html">containerit::dockerfile()</a></code> or <code><a href="https://rdrr.io/pkg/rrtools/man/use_dockerfile.html">rrtools::use_dockerfile()</a></code>.</p></li>
<li><p>Archive your repository (e.g. in Zenodo), get a DOI, and include citation information in your README.</p></li>
</ol>
</div>
<div id="thanks-to" class="section level3">
<h3 class="hasAnchor">
<a href="#thanks-to" class="anchor"></a>Thanks to:</h3>
<ul>
<li>Carl Boettiger and his <a href="https://github.com/cboettig/template">template package</a>
</li>
<li>Jeff Hollister and his <a href="https://github.com/jhollist/manuscriptPackage">manuscriptPackage</a>
</li>
<li>Robert Flight: <a href="http://rmflight.github.io/posts/2014/07/analyses_as_packages.html" class="uri">http://rmflight.github.io/posts/2014/07/analyses_as_packages.html</a>
</li>
<li>Hadley Wickham: <a href="http://r-pkgs.had.co.nz/" class="uri">http://r-pkgs.had.co.nz/</a>
</li>
<li>Yihui Xie: <a href="http://yihui.name/knitr/" class="uri">http://yihui.name/knitr/</a>
</li>
<li>Rstudio</li>
</ul>
</div>
<div id="links" class="section level3">
<h3 class="hasAnchor">
<a href="#links" class="anchor"></a>Links</h3>
<ul>
<li><a href="https://github.com/ropensci/rrrpkg" class="uri">https://github.com/ropensci/rrrpkg</a></li>
<li><a href="https://github.com/Reproducible-Science-Curriculum/rr-init" class="uri">https://github.com/Reproducible-Science-Curriculum/rr-init</a></li>
<li><a href="http://ropensci.github.io/reproducibility-guide/" class="uri">http://ropensci.github.io/reproducibility-guide/</a></li>
<li><a href="https://github.com/jdblischak/r-project-workflows" class="uri">https://github.com/jdblischak/r-project-workflows</a></li>
<li><a href="https://github.com/benmarwick/rrtools" class="uri">https://github.com/benmarwick/rrtools</a></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Pakillo/template/">https://​github.com/​Pakillo/​template/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/Pakillo/template/issues">https://​github.com/​Pakillo/​template/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Francisco Rodriguez-Sanchez <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-7981-1599" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/Pakillo/template"><img src="https://travis-ci.org/Pakillo/template.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="http://hits.dwyl.com/Pakillo/template"><img src="http://hits.dwyl.com/Pakillo/template.svg" alt="HitCount since 2020-06-14"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Francisco Rodriguez-Sanchez.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
